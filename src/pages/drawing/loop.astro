---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="The Draw Loop">
	<canvas width="800" height="600" />
    <script>
        import { loop } from '../../scripts/loop'

        const rect = {
            x:  50, 
            y:  50,
            dy: 15,
            dx: 15,
            width:  50,
            height:  50,
            fill: 'black'
        }

        loop({
            update: (canvas, context, delta) => {
                rect.x += delta * rect.dx
                rect.y += delta * rect.dy
            },
            draw: (canvas, context) => {
                context.fillStyle = rect.fill;
                context.fillRect(rect.x, rect.y, rect.width, rect.height);
            },
        })
    </script>
</Layout>
